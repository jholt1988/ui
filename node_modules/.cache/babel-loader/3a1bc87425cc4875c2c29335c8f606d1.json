{"ast":null,"code":"const express = require('express');\n\nconst cors = require('cors');\n\nconst bodyParser = require('body-parser');\n\nconst session = require('express-session');\n\nconst {\n  SESSION_SECRET\n} = require('../config');\n\nconst logger = require('morgan');\n\nconst flash = require('connect-flash');\n\nconst {\n  isAuthenticated\n} = './authenticate.js';\n\nmodule.exports = app => {\n  //CORS MiddleWare\n  app.use(cors()); // Body Parsing MiddleWare\n  //JSON\n\n  app.use(logger('combined'));\n  app.use(bodyParser.json()); //Connect-Flash Middleware\n\n  app.use(flash()); //UrlEncoded\n\n  app.use(bodyParser.urlencoded({\n    extended: false\n  }));\n  app.use(session({\n    secret: SESSION_SECRET,\n    saveUninitialized: false,\n    resave: false,\n    cookie: {\n      secure: false,\n      maxAge: 40 * 60 * 120\n    }\n  }));\n  return app;\n};","map":{"version":3,"sources":["C:/Users/jorda/OneDrive/Desktop/berecoapp/node_modules/berecoapi2.0/Loaders/express.js"],"names":["express","require","cors","bodyParser","session","SESSION_SECRET","logger","flash","isAuthenticated","module","exports","app","use","json","urlencoded","extended","secret","saveUninitialized","resave","cookie","secure","maxAge"],"mappings":"AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AACA,MAAMC,IAAI,GAAGD,OAAO,CAAC,MAAD,CAApB;;AACA,MAAME,UAAU,GAAGF,OAAO,CAAC,aAAD,CAA1B;;AACA,MAAMG,OAAO,GAAGH,OAAO,CAAC,iBAAD,CAAvB;;AACA,MAAM;AAAEI,EAAAA;AAAF,IAAqBJ,OAAO,CAAC,WAAD,CAAlC;;AACA,MAAMK,MAAM,GAAGL,OAAO,CAAC,QAAD,CAAtB;;AACA,MAAMM,KAAK,GAAGN,OAAO,CAAC,eAAD,CAArB;;AACA,MAAM;AAACO,EAAAA;AAAD,IAAqB,mBAA3B;;AAKAC,MAAM,CAACC,OAAP,GAAkBC,GAAD,IAAS;AAEtB;AACAA,EAAAA,GAAG,CAACC,GAAJ,CAAQV,IAAI,EAAZ,EAHsB,CAKtB;AACA;;AACAS,EAAAA,GAAG,CAACC,GAAJ,CAAQN,MAAM,CAAC,UAAD,CAAd;AAEAK,EAAAA,GAAG,CAACC,GAAJ,CAAQT,UAAU,CAACU,IAAX,EAAR,EATsB,CAWtB;;AACAF,EAAAA,GAAG,CAACC,GAAJ,CAAQL,KAAK,EAAb,EAZsB,CAiBtB;;AACAI,EAAAA,GAAG,CAACC,GAAJ,CAAQT,UAAU,CAACW,UAAX,CAAsB;AAAEC,IAAAA,QAAQ,EAAE;AAAZ,GAAtB,CAAR;AAEAJ,EAAAA,GAAG,CAACC,GAAJ,CAAQR,OAAO,CAAC;AACZY,IAAAA,MAAM,EAAEX,cADI;AAEZY,IAAAA,iBAAiB,EAAE,KAFP;AAGZC,IAAAA,MAAM,EAAE,KAHI;AAIZC,IAAAA,MAAM,EAAE;AACJC,MAAAA,MAAM,EAAE,KADJ;AAEJC,MAAAA,MAAM,EAAE,KAAK,EAAL,GAAU;AAFd;AAJI,GAAD,CAAf;AAUA,SAAOV,GAAP;AAEH,CAhCD","sourcesContent":["const express = require('express');\r\nconst cors = require('cors');\r\nconst bodyParser = require('body-parser');\r\nconst session = require('express-session');\r\nconst { SESSION_SECRET } = require('../config');\r\nconst logger = require('morgan');\r\nconst flash = require('connect-flash')\r\nconst {isAuthenticated} = ('./authenticate.js')\r\n\r\n\r\n\r\n\r\nmodule.exports = (app) => {\r\n\r\n    //CORS MiddleWare\r\n    app.use(cors());\r\n\r\n    // Body Parsing MiddleWare\r\n    //JSON\r\n    app.use(logger('combined'));\r\n\r\n    app.use(bodyParser.json());\r\n\r\n    //Connect-Flash Middleware\r\n    app.use(flash())\r\n\r\n    \r\n    \r\n\r\n    //UrlEncoded\r\n    app.use(bodyParser.urlencoded({ extended: false }));\r\n\r\n    app.use(session({\r\n        secret: SESSION_SECRET,\r\n        saveUninitialized: false,\r\n        resave: false,\r\n        cookie: {\r\n            secure: false,\r\n            maxAge: 40 * 60 * 120\r\n        }\r\n    }));\r\n\r\n    return app;\r\n\r\n}"]},"metadata":{},"sourceType":"script"}