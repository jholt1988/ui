{"ast":null,"code":"const {\n  DataTypes,\n  Model\n} = require('sequelize');\n\nmodule.exports = (sequelize, Sequelize) => {\n  class CartItemModel extends Model {\n    totalItem() {\n      const total = this.price * this.quantity;\n      return total;\n    }\n\n    changeStatus() {\n      this.isActive = false;\n    }\n\n  }\n\n  CartItemModel.init({\n    id: {\n      type: DataTypes.INTEGER,\n      allowNull: false,\n      autoIncrement: true,\n      primaryKey: true\n    },\n    ProductId: {\n      type: DataTypes.UUID,\n      allowNull: false,\n      references: {\n        model: 'Products',\n        key: 'id'\n      }\n    },\n    quantity: {\n      type: DataTypes.DECIMAL,\n      allowNull: false\n    },\n    CartId: {\n      type: DataTypes.INTEGER,\n      allowNull: false,\n      references: {\n        model: 'Carts',\n        key: 'id'\n      }\n    },\n    price: {\n      type: DataTypes.DECIMAL\n    },\n    total: {\n      type: DataTypes.DECIMAL,\n\n      set() {\n        const total = this.totalItem();\n        this.setDataValue('total', total);\n      }\n\n    }\n  }, {\n    sequelize,\n    modelName: 'CartItem'\n  });\n  return CartItemModel;\n};","map":{"version":3,"sources":["C:/Users/jorda/OneDrive/Desktop/berecoapp/node_modules/berecoapi2.0/Models/Carts/CartItems.js"],"names":["DataTypes","Model","require","module","exports","sequelize","Sequelize","CartItemModel","totalItem","total","price","quantity","changeStatus","isActive","init","id","type","INTEGER","allowNull","autoIncrement","primaryKey","ProductId","UUID","references","model","key","DECIMAL","CartId","set","setDataValue","modelName"],"mappings":"AAAA,MAAM;AAAEA,EAAAA,SAAF;AAAaC,EAAAA;AAAb,IAAuBC,OAAO,CAAC,WAAD,CAApC;;AAIAC,MAAM,CAACC,OAAP,GAAgB,CAACC,SAAD,EAAYC,SAAZ,KAA2B;AACvC,QAAMC,aAAN,SAA4BN,KAA5B,CAAiC;AAC5BO,IAAAA,SAAS,GAAG;AACT,YAAMC,KAAK,GAAI,KAAKC,KAAL,GAAa,KAAKC,QAAjC;AACA,aAAOF,KAAP;AACH;;AAEDG,IAAAA,YAAY,GAAG;AACX,WAAKC,QAAL,GAAgB,KAAhB;AACH;;AAR4B;;AAY7BN,EAAAA,aAAa,CAACO,IAAd,CAAmB;AACnBC,IAAAA,EAAE,EAAE;AACAC,MAAAA,IAAI,EAAEhB,SAAS,CAACiB,OADhB;AAEAC,MAAAA,SAAS,EAAE,KAFX;AAGAC,MAAAA,aAAa,EAAE,IAHf;AAIFC,MAAAA,UAAU,EAAE;AAJV,KADe;AAUnBC,IAAAA,SAAS,EAAE;AACPL,MAAAA,IAAI,EAAEhB,SAAS,CAACsB,IADT;AAEPJ,MAAAA,SAAS,EAAE,KAFJ;AAGPK,MAAAA,UAAU,EAAE;AACRC,QAAAA,KAAK,EAAE,UADC;AAERC,QAAAA,GAAG,EAAE;AAFG;AAHL,KAVQ;AAkBnBd,IAAAA,QAAQ,EAAE;AACNK,MAAAA,IAAI,EAAEhB,SAAS,CAAC0B,OADV;AAENR,MAAAA,SAAS,EAAE;AAFL,KAlBS;AAuBnBS,IAAAA,MAAM,EAAE;AACJX,MAAAA,IAAI,EAAEhB,SAAS,CAACiB,OADZ;AAEJC,MAAAA,SAAS,EAAE,KAFP;AAGJK,MAAAA,UAAU,EAAE;AACRC,QAAAA,KAAK,EAAE,OADC;AAERC,QAAAA,GAAG,EAAE;AAFG;AAHR,KAvBW;AAgCrBf,IAAAA,KAAK,EAAE;AACHM,MAAAA,IAAI,EAAEhB,SAAS,CAAC0B;AADb,KAhCc;AAoCrBjB,IAAAA,KAAK,EAAE;AACHO,MAAAA,IAAI,EAAEhB,SAAS,CAAC0B,OADb;;AAEHE,MAAAA,GAAG,GAAG;AAAI,cAAMnB,KAAK,GAAI,KAAKD,SAAL,EAAf;AACA,aAAKqB,YAAL,CAAkB,OAAlB,EAA0BpB,KAA1B;AAET;;AALE;AApCc,GAAnB,EA+CH;AAACJ,IAAAA,SAAD;AAAYyB,IAAAA,SAAS,EAAE;AAAvB,GA/CG;AAiDJ,SAAOvB,aAAP;AACH,CA/DD","sourcesContent":["const { DataTypes, Model } = require('sequelize');\r\n\r\n\r\n\r\nmodule.exports =(sequelize, Sequelize)  => {\r\n    class CartItemModel extends Model{\r\n         totalItem() {\r\n            const total = (this.price * this.quantity)\r\n            return total\r\n        }\r\n\r\n        changeStatus() {\r\n            this.isActive = false\r\n        }\r\n\r\n    }\r\n        \r\n        CartItemModel.init({\r\n        id: {\r\n            type: DataTypes.INTEGER,\r\n            allowNull: false,\r\n            autoIncrement: true,\r\n          primaryKey: true,\r\n\r\n          \r\n            \r\n        },\r\n        ProductId: {\r\n            type: DataTypes.UUID,\r\n            allowNull: false, \r\n            references: {\r\n                model: 'Products', \r\n                key: 'id'\r\n            }\r\n        },\r\n        quantity: {\r\n            type: DataTypes.DECIMAL,\r\n            allowNull: false,\r\n            \r\n        },\r\n        CartId: {\r\n            type: DataTypes.INTEGER,\r\n            allowNull: false,\r\n            references: {\r\n                model: 'Carts', \r\n                key: 'id'\r\n            }\r\n            \r\n      },\r\n      price: {\r\n          type: DataTypes.DECIMAL\r\n          \r\n      },\r\n      total: {\r\n          type: DataTypes.DECIMAL,\r\n          set() {   const total  = this.totalItem()\r\n                    this.setDataValue('total',total )\r\n        \r\n          }\r\n\r\n            }\r\n\r\n        \r\n        \r\n  }, {sequelize, modelName: 'CartItem'})\r\n     \r\n    return CartItemModel\r\n};\r\n\r\n"]},"metadata":{},"sourceType":"script"}